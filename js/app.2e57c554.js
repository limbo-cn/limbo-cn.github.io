(function(e){function t(t){for(var n,o,a=t[0],c=t[1],l=t[2],h=0,d=[];h<a.length;h++)o=a[h],s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function o(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"3ca48434"}[e]+".js"}function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise(function(t,n){i=s[e]=[t,n]});t.push(i[2]=n);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=o(e),r=function(t){c.onerror=c.onload=null,clearTimeout(l);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,i[1](o)}s[e]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"5c0b":function(e,t,i){"use strict";var n=i("5e27"),s=i.n(n);s.a},"5e27":function(e,t,i){},"9df3":function(e,t,i){"use strict";var n=i("e415"),s=i.n(n);s.a},cd49:function(e,t,i){"use strict";i.r(t);var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],o=(i("5c0b"),i("2877")),a={},c=Object(o["a"])(a,s,r,!1,null,null,null),l=c.exports,h=i("8c4f"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("Proposal")],1)},d=[],m=i("9ab4"),p=i("60a3"),E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"icon",attrs:{id:"audio"},on:{click:function(t){return t.stopPropagation(),e.playAudio(t)}}},[i("span",{attrs:{"data-descr":"若浏览器不自动播放音乐>.<，请点击我开启告白模式"}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-music"}})])])]),i("div",{staticClass:"icon",attrs:{id:"heart"},on:{click:function(t){return t.stopPropagation(),e.empty(t)}}},[i("span",{attrs:{"data-descr":" dtl💗zyd  ---\x3e  forever🎉"}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xinxi"}})])])]),i("div",{staticClass:"icon",attrs:{id:"letter"},on:{click:function(t){return t.stopPropagation(),e.empty(t)}}},[i("span",{attrs:{"data-descr":"每一颗爱心都代表了我对你的告白，不同的颜色象征着我们的爱情之路，时而甜蜜，时而心酸，虽然聚少离多，但我们最终还是坚持到了最后，汇聚成了这片海洋，探索这片海洋，发现更多只属于我们的秘密,找到那颗唯一的红色小心心吧😃"}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-heartbeat "}})])])]),i("div",{staticClass:"icon",attrs:{id:"info"},on:{click:function(t){return t.stopPropagation(),e.empty(t)}}},[i("span",{attrs:{"data-descr":"作者:dtl(limbo),这个项目是我自己撸出来的,为了向张老板求婚可以说是很拼了,需要源码或者技术交流的同学可以加我微信firelimbo1992,电脑端比手机端好看的多>.<建议电脑登录,不支持IE"}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-icon-test2"}})])])]),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showDialog,expression:"showDialog"}],staticClass:"dialog"},[i("div",{staticClass:"mask"}),i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"close",on:{click:function(t){return t.stopPropagation(),e.closeDialog(t)}}},[i("span",[e._v("✖")])]),i("div",{attrs:{id:"text"}},[i("p",[e._v(e._s(e.secret))])]),i("svg",{attrs:{t:"1562565497488",viewBox:"0 0 1024 1024",width:"200",height:"200"}},[i("path",{attrs:{d:"M511.3 511.5m-295.2 0a295.2 295.2 0 1 0 590.4 0 295.2 295.2 0 1 0-590.4 0Z",fill:"#9FE2CD","p-id":"6304"}}),i("path",{attrs:{d:"M462.2 602.4l49.1-181.9 49.2 181.9z",fill:"#F9AFBD","p-id":"6305"}}),i("path",{attrs:{d:"M560.5 608.4h-98.4c-1.9 0-3.6-0.9-4.8-2.4-1.1-1.5-1.5-3.4-1-5.2L505.5 419c0.7-2.6 3.1-4.4 5.8-4.4s5.1 1.8 5.8 4.4l49.2 181.8c0.5 1.8 0.1 3.7-1 5.2-1.2 1.5-2.9 2.4-4.8 2.4z m-90.5-12h82.7l-41.3-152.9L470 596.4z",fill:"#0C0C0C","p-id":"6306"}}),i("path",{attrs:{d:"M667.5 15.4c-71.8 0-132.9 47.1-156.2 113.1-23.3-66-84.4-113.1-156.2-113.1-91.8 0-168 77.1-166.2 172.1 2.8 153.6 254.6 350.1 322.4 350.1s320.8-180.3 322.4-350.1c1-95-74.4-172.1-166.2-172.1z",fill:"#F9AFBD","p-id":"6307"}}),i("path",{attrs:{d:"M511.3 543.7c-36.8 0-118.4-51.2-189.7-119.1-39.2-37.3-72.3-76.8-95.8-114.3-27.8-44.4-42.3-85.7-42.9-122.6-0.9-47.7 17-92.7 50.3-126.6 32.7-33.3 76-51.6 121.9-51.6 36.1 0 70.6 11.4 99.8 33 24.5 18.1 43.8 42.1 56.3 70 12.5-27.9 31.8-51.9 56.3-70 29.3-21.6 63.8-33 99.8-33 45.5 0 88.4 18.1 120.9 50.9 33.6 33.9 51.8 79.1 51.3 127.3-0.4 40.6-14.7 84.2-42.4 129.4-23.3 38-56.5 77.3-95.9 113.7-68.5 63.3-152 112.9-189.9 112.9zM355.1 21.4c-42.7 0-82.9 17.1-113.3 48-31 31.6-47.7 73.5-46.9 118 0.6 34.7 14.5 73.9 41.1 116.5 23 36.7 55.4 75.4 93.9 112C406 488.4 482 531.7 511.4 531.7c30.2 0 108.4-42 182-109.8 38.6-35.6 71.1-74.1 93.8-111.1 26.6-43.4 40.3-84.9 40.7-123.3 0.4-44.9-16.6-87.1-47.9-118.7-30.2-30.5-70.2-47.4-112.4-47.4-33.5 0-65.5 10.6-92.7 30.6-26.6 19.6-46.6 46.8-57.8 78.4-0.8 2.4-3.1 4-5.7 4s-4.8-1.6-5.7-4c-11.2-31.7-31.2-58.8-57.8-78.4-27.2-20-59.3-30.6-92.8-30.6z",fill:"#0C0C0C","p-id":"6308"}}),i("path",{attrs:{d:"M254.3 212.8c-3.3 0-5.9-2.6-6-5.9-0.5-28.7 7-56.7 21.7-81.1 14.2-23.6 34.5-42.8 58.6-55.6 2.9-1.6 6.6-0.4 8.1 2.5s0.4 6.6-2.5 8.1c-22.2 11.7-40.9 29.4-53.9 51.1-13.5 22.4-20.4 48.3-19.9 74.6 0.1 3.3-2.6 6-5.9 6.1-0.1 0.2-0.1 0.2-0.2 0.2z",fill:"#FFFFFF","p-id":"6309"}}),i("path",{attrs:{d:"M523.5 1017c-1.8 0-3.6-0.8-4.8-2.3-2-2.6-1.5-6.4 1.1-8.4 16.8-13 39.9-71.4 39-108.8-0.3-11.8-3-19.8-7.8-23.2-1.7-1.2-3.6-2.5-5.7-3.9-22.3-15.3-59.5-40.9-57.2-68 1.2-13.8 12.2-25.5 32.8-35 17.6-8.1 26.8-16.7 27.5-25.6 1.5-20.1-37.7-45.6-72.3-68.1l-5.2-3.4c-14.4-9.4-20.8-19.5-19-30.1 2-11.9 14.7-23 37.8-32.8 16.1-6.9 31.5-10.7 32.2-10.9 3.2-0.8 6.5 1.2 7.3 4.4 0.8 3.2-1.2 6.5-4.4 7.3-0.2 0-15.2 3.8-30.5 10.3-18.2 7.8-29.3 16.4-30.6 23.7-1.1 6.8 6.8 13.6 13.7 18.1l5.2 3.4c41 26.7 79.7 51.9 77.7 79.1-1 13.8-12.3 25.5-34.4 35.6-16.4 7.5-25.1 16-25.9 25.1-1.7 20.1 33.3 44.1 52 57 2.1 1.4 4 2.8 5.8 4 8.2 5.7 12.5 16.7 12.9 32.7 0.4 18.5-4.6 43.3-13.7 67.9-12.9 34.8-25.3 47-30 50.6-0.9 0.9-2.2 1.3-3.5 1.3z",fill:"#0C0C0C","p-id":"6310"}}),i("path",{attrs:{d:"M327.5 516l14.9 30.2 33.4 4.9-24.1 23.5 5.6 33.2-29.8-15.7-29.8 15.7 5.7-33.2-24.2-23.5 33.4-4.9z",fill:"#F7C6B0","p-id":"6311"}}),i("path",{attrs:{d:"M297.7 613.8c-1.2 0-2.5-0.4-3.5-1.1-1.8-1.3-2.8-3.6-2.4-5.9l5.2-30.1-21.9-21.3c-1.6-1.6-2.2-4-1.5-6.2 0.7-2.2 2.6-3.8 4.8-4.1l30.2-4.4 13.5-27.4c1-2 3.1-3.3 5.4-3.3s4.4 1.3 5.4 3.3l13.5 27.4 30.2 4.4c2.3 0.3 4.1 1.9 4.8 4.1 0.7 2.2 0.1 4.6-1.5 6.2L358 576.7l5.2 30.1c0.4 2.3-0.5 4.5-2.4 5.9-1.8 1.3-4.3 1.5-6.3 0.5l-27-14.2-27 14.2c-0.9 0.4-1.9 0.6-2.8 0.6z m29.8-27.7c1 0 1.9 0.2 2.8 0.7l19.1 10-3.6-21.2c-0.3-1.9 0.3-3.9 1.7-5.3l15.4-15-21.3-3.1c-2-0.3-3.6-1.5-4.5-3.3l-9.5-19.3-9.5 19.3c-0.9 1.8-2.6 3-4.5 3.3l-21.3 3.1 15.4 15c1.4 1.4 2.1 3.4 1.7 5.3l-3.6 21.2 19.1-10c0.7-0.4 1.7-0.7 2.6-0.7z",fill:"#0C0C0C","p-id":"6312"}}),i("path",{attrs:{d:"M656.8 641.5l14.9 30.2 33.4 4.9-24.2 23.5 5.7 33.2-29.8-15.7-29.8 15.7 5.7-33.2-24.2-23.5 33.4-4.9z",fill:"#F7C6B0","p-id":"6313"}}),i("path",{attrs:{d:"M686.6 739.3c-1 0-1.9-0.2-2.8-0.7l-27-14.2-27 14.2c-2 1.1-4.5 0.9-6.3-0.5-1.8-1.3-2.8-3.6-2.4-5.9l5.2-30.1-21.9-21.3c-1.6-1.6-2.2-4-1.5-6.2 0.7-2.2 2.6-3.8 4.8-4.1l30.2-4.4 13.5-27.4c1-2 3.1-3.3 5.4-3.3 2.3 0 4.4 1.3 5.4 3.3l13.5 27.4 30.2 4.4c2.3 0.3 4.1 1.9 4.8 4.1 0.7 2.2 0.1 4.6-1.5 6.2l-21.9 21.3 5.2 30.1c0.4 2.3-0.5 4.5-2.4 5.9-1 0.8-2.2 1.2-3.5 1.2z m-65.2-58.5l15.4 15c1.4 1.4 2.1 3.4 1.7 5.3l-3.6 21.2 19.1-10c1.7-0.9 3.8-0.9 5.6 0l19.1 10-3.6-21.2c-0.3-1.9 0.3-3.9 1.7-5.3l15.4-15-21.3-3.1c-2-0.3-3.6-1.5-4.5-3.3l-9.5-19.3-9.5 19.3c-0.9 1.8-2.6 3-4.5 3.3l-21.5 3.1z",fill:"#0C0C0C","p-id":"6314"}}),i("path",{attrs:{d:"M753.3 433.4l15 30.2 33.3 4.9-24.1 23.5 5.7 33.2-29.9-15.7-29.8 15.7 5.7-33.2-24.1-23.5 33.3-4.9z",fill:"#F7C6B0","p-id":"6315"}}),i("path",{attrs:{d:"M783.2 531.2c-1 0-1.9-0.2-2.8-0.7l-27-14.2-27 14.2c-2 1.1-4.5 0.9-6.3-0.5-1.8-1.3-2.8-3.6-2.4-5.9l5.2-30.1-21.9-21.3c-1.6-1.6-2.2-4-1.5-6.2 0.7-2.2 2.6-3.8 4.8-4.1l30.2-4.4 13.5-27.4c1-2 3.1-3.3 5.4-3.3 2.3 0 4.4 1.3 5.4 3.3l13.5 27.4 30.2 4.4c2.3 0.3 4.1 1.9 4.8 4.1 0.7 2.2 0.1 4.6-1.5 6.2L783.9 494l5.2 30.1c0.4 2.3-0.5 4.5-2.4 5.9-1 0.8-2.3 1.2-3.5 1.2z m-29.9-27.7c1 0 1.9 0.2 2.8 0.7l19.1 10-3.6-21.2c-0.3-1.9 0.3-3.9 1.7-5.3l15.4-15-21.3-3.1c-2-0.3-3.6-1.5-4.5-3.3l-9.5-19.3-9.5 19.3c-0.9 1.8-2.6 3-4.5 3.3l-21.3 3.1 15.4 15c1.4 1.4 2.1 3.4 1.7 5.3l-3.6 21.2 19.1-10c0.7-0.5 1.7-0.7 2.6-0.7z",fill:"#0C0C0C","p-id":"6316"}})])])])])],1)},f=[],g=i("2f62");n["a"].use(g["a"]);var T=new g["a"].Store({state:{showDialog:!1,secret:"",timer:null},mutations:{SET_SHOW_DIALOG:function(e,t){e.showDialog=t},SET_SECRET:function(e,t){e.secret=t},SET_TIMER:function(e,t){e.timer=t}},actions:{setShowDialog:function(e,t){var i=e.commit;i("SET_SHOW_DIALOG",t)},setSecret:function(e,t){var i=e.commit;i("SET_SECRET",t)},setTimer:function(e,t){var i=e.commit;i("SET_TIMER",t)}},getters:{getShowDialog:function(e){return e.showDialog},getSecret:function(e){return e.secret},getTimer:function(e){return e.timer}}});class w{constructor(){this.loveTougne="",this.secrets=["你不喜欢猫猫狗狗,我很喜欢,你经常说,跟你在一起以后,我这辈子都不会有自己的宠物了,但是我不后悔,因为..........有你就够啦💗","最喜欢你的一点,不管吵架,不开心,闹矛盾,从来不会失联,再生气也会主动联系我,谢谢那么久以来的包容😊","都说程序猿不懂浪漫,我想,或许这就是程序猿的浪漫吧...🌸","明明不擅长算术,还要坚持做算术相关的工作,如果说这个项目是程序猿最后的倔强，那你的职业选择估计也是你最后的倔强了吧,不管是好是坏,努力过就好啦,加油吧,皮丘🍉",`我们已经相爱${this.getKnowTime()}天啦!要一直幸福下去噢💗`,this.getMarryTime()>0?`还有${this.getMarryTime()}天,我们就要结婚啦!要让所有人见证我们的幸福呀💗`:"我们已经结婚啦!要一直幸福下去,直到永远噢🌸","虽然我很怂,一直都怂.....最大胆的一次,就是想让全世界都看到我对你的告白🎁","你最喜欢的数字是369,发个动态都要等分针指向369才发,有的时候觉得很傻,有时候又觉得特别可爱🍄","第一次去迪士尼的时候,你戴着仙女发箍,我们拍了很多很多照片,当时我在想,如果这就是是现实中的城堡,那你一定就是我的公主了吧👰","每次有好吃的都会第一时间想到我,用你的话说就是,就算是狗屎也会带给我一起分享😭","吃东西每次都要先拍照,喜欢贵的,又喜欢好看的,对食物的追求永远停留在表面,最后偏偏选了我这个又没钱又没颜值的,还说从不后悔...😆","后来我才发现,做这个东西最难的地方不是写代码,而是....究竟要怎么样才能想出那么多土味情话...😆","第一次见我妈妈的时候,你穿着刚买的不合脚的高跟鞋,躲在我身后很怂的样子真的太可爱了...😊","记得我们去扬州的时候明明天气很冷,你穿了个长裙冻得瑟瑟发抖,问你冷不冷还说....不冷,那次我们吃了好多好吃的,还放了风筝🌸","第一次去爬山,完全没有运动能力的我走两步就要休息一下...估计你当时肯定贼嫌弃了,结果下山的时候,被路人辅助第一次牵了你的手,然后一牵就牵到了现在..","自从认识你之后,好像就没怎么打过游戏(除了你送我的任天堂😊),刚开始是假装上进,久而久之好像就成了习惯...也没那么喜欢打游戏了",`自从100天之后,我们好像很久没正儿八经过过什么纪念日了,时间也变得更快了,一转眼我们就在一起${this.getKnowTime()}天啦,我不是什么仪式感特别强的男生,甚至有点直男,谢谢你对我的包容,让我们有了更多美好的回忆🌸`,this.getPaperTime()>0?`我们莫名其妙约定了9.6去领证,哈哈哈,感觉不错,还有${this.getPaperTime()}天我们就合法啦!🌈`:"我们莫名其妙约定了9.6去领证,哈哈哈,感觉不错,现在我们已经合法啦!🌈","“你变得越来越不像你了”\n            ------“像我老公” 这是你对我说的第一句情话😆","听到我生病马上要做手术的时候,二话不说就请假来上海看我,结果还买不到车票买了贼贵的商务座...😆还好最后康复了,不然真的太对不起你啦","真怀念二十四小时土豆啊😁","在南京的深夜食堂吃到了人生中最好吃的寿喜锅🍣","第一次见到你哭是在新区的胡桃里,当时就发誓以后一定要保护好眼前的这个姑娘,印象深刻当时背景音乐是lala land的主题曲,希望我们的梦想也能最终实现","第一次陪你去买Victoria's Secret,害羞的我完全不敢进去啊,在星巴克等了半天>.<,最后还是进去了😆"],this.badMemory=["还记得那次在停车场哭,以后不想再发生了😪","去韩国的时候,明明说要带我去牛岛玩,结果.......还是在屡次不开心之后在我的带领下来到了牛岛🐂","帮你买了很多没有卵用的东西>.<,你也帮我买了很多没有卵用的东西,要是我们能节俭一点,说不定现在可以富裕一点啦😆"],this.blue=["还记得刚开始的时候大部分时候都可以在苏州陪着你,度过了我们人生中很快乐的一段时间,好景不长,很快就异地了,分开的时候偶尔会想念对方,但更多的是对未来美好的期待..🍦","真的很对不起你,让你为了我一次又一次和家人矛盾😪","一直都想不通两个审美,兴趣,追求都完全不同的两个人,究竟怎么就这样走到了最后...😁","其实有时候我也会觉得我们现在这样不错,周末见面,彼此有更多的精力趁着年轻的时候努力奋斗💪"]}bind(e,t){return function(){return t.apply(e,arguments)}}speak(e,t=0){let i="";if(i=0===e?"所以..............................你愿意嫁给我吗？👰                 我不管,我先说啦                ---------  “yes ,I do🌸”":e>0&&e<=10?this.badMemory[e%this.badMemory.length]:e>10&&e<=20?this.blue[e%this.blue.length]:this.secrets[e%this.secrets.length],t<=i.length){T.dispatch("setSecret",i.slice(0,t++)+"_");const n=setTimeout(this.bind(this,this.speak),400*Math.random(),e,t);T.dispatch("setTimer",n)}else T.dispatch("setSecret",i)}getKnowTime(){var e=new Date(2018,1,26),t=new Date,i=t.getTime()-e.getTime();return Math.floor(i/864e5)+30}getMarryTime(){var e=new Date(2019,11,24),t=new Date,i=e.getTime()-t.getTime();return Math.ceil(i/864e5)-30}getPaperTime(){var e=new Date(2019,9,6),t=new Date,i=e.getTime()-t.getTime();return Math.ceil(i/864e5)-30}}class v{constructor(){this.secret=new w,this.numHearts=200,this.colors={background:16764159,myHeart:16711731,normalHearts:16751001,blueHeart:39423,breakHearts:10066329},this.extrudeSettings={amount:8,bevelEnabled:!0,bevelSegments:2,steps:2,bevelSize:20,bevelThickness:20},this.mouseX=0,this.mouseY=0,this.raycaster=new THREE.Raycaster,this.mouse=new THREE.Vector3,this.INTERSECTED=null,this.isTweening=!1,this.init()}init(){this.setup(),this.makeLove(),this.bindEvents(),this.animate()}setup(){this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),document.body.appendChild(this.renderer.domElement),this.scene=new THREE.Scene,this.scene.background=new THREE.Color(this.colors.background),this.scene.fog=new THREE.FogExp2(this.colors.background,.002);let e=60,t=window.innerWidth/window.innerHeight,i=1,n=1e3;this.camera=new THREE.PerspectiveCamera(e,t,i,n),this.camera.position.x=2e3,this.camera.position.y=2e3,this.camera.position.z=2e3,this.camera.lookAt(new THREE.Vector3)}appearScene(){this.renderer.domElement.style.opacity=1}makeLove(){this.makeHeartsAtmosphere(),this.makeLights(),this.makeTweenEntry()}makeHeartsAtmosphere(){let e=new THREE.Shape;e.moveTo(25,25),e.bezierCurveTo(25,25,20,0,0,0),e.bezierCurveTo(-30,0,-30,35,-30,35),e.bezierCurveTo(-30,55,-10,77,25,95),e.bezierCurveTo(60,77,80,55,80,35),e.bezierCurveTo(80,35,80,0,50,0),e.bezierCurveTo(35,0,25,25,25,25);let t,i=new THREE.ExtrudeGeometry(e,this.extrudeSettings);for(let n=0;n<this.numHearts;n++){t=0===n?new THREE.MeshPhongMaterial({uuid:n,color:this.colors.myHeart,flatShading:!0}):n>=1&&n<=10?new THREE.MeshPhongMaterial({uuid:n,color:this.colors.breakHearts,flatShading:!0}):n>10&&n<=20?new THREE.MeshPhongMaterial({uuid:n,color:this.colors.blueHeart,flatShading:!0}):new THREE.MeshPhongMaterial({uuid:n,color:this.colors.normalHearts,flatShading:!0});let e=new THREE.Mesh(i,t);e.position.set(1e3*(Math.random()-.5),1e3*(Math.random()-.5),1e3*(Math.random()-.5)),e.scale.set(.5,.5,.5),e.rotation.x=Math.PI,e.rotation.y=Math.random()*Math.PI,this.scene.add(e)}}makeLights(){let e=new THREE.DirectionalLight(16777215);e.position.set(1,1,1),this.scene.add(e);let t=new THREE.DirectionalLight(8840);t.position.set(-1,-1,-1),this.scene.add(t);let i=new THREE.AmbientLight(this.colors.heart,.1);this.scene.add(i)}makeTweenEntry(){this.isTweening=!0,this.appearScene(),new TWEEN.Tween(this.camera.position).to({x:0,y:0,z:100},8e3).easing(TWEEN.Easing.Quintic.Out).delay(2e3).onComplete(()=>this.isTweening=!1).start()}animate(){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.scene.children);e.length>0?this.INTERSECTED!=e[0].object&&(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=e[0].object,this.INTERSECTED.currentHex=this.INTERSECTED.material.emissive.getHex(),this.INTERSECTED.material.emissive.setHex(16711680)):(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=null),this.renderer.render(this.scene,this.camera),TWEEN.update(),this.camera.position.x+=.01*(this.mouseX-this.camera.position.x),this.camera.position.y+=.01*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position),window.requestAnimationFrame(this.animate.bind(this))}bindEvents(){window.addEventListener("resize",this.onWindowResize.bind(this),!1),document.addEventListener("mousemove",this.onDocumentMouseMove.bind(this),!1),document.addEventListener("mousedown",this.onDocumentMouseDown.bind(this),!1),document.addEventListener("touchmove",this.onDocumentTouchMove.bind(this),!1),document.addEventListener("touchstart",this.onDocumentTouchStart.bind(this),!1),document.addEventListener("touchend",this.onDocumentTouchEnd.bind(this),!1)}onWindowResize(){let e=window.innerWidth,t=window.innerHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}onDocumentMouseMove(e){this.isTweening||(e.altKey||(this.mouseX=e.clientX-window.innerWidth/2,this.mouseY=e.clientY-window.innerHeight/2),this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1)}onDocumentTouchMove(e){this.isTweening||(this.mouseX=e.touches[0].pageX-window.innerWidth/2,this.mouseY=e.touches[0].pageY-window.innerHeight/2)}onDocumentMouseDown(){if(this.INTERSECTED&&!T.getters.getShowDialog){const e=document.querySelector("audio");e&&e.paused&&e.play(),T.dispatch("setShowDialog",!0),this.secret.speak(this.INTERSECTED.material.uuid)}}onDocumentTouchStart(e){this.mouse.x=e.touches[0].pageX/window.innerWidth*2-1,this.mouse.y=-e.touches[0].pageY/window.innerHeight*2+1}onDocumentTouchEnd(){if(this.INTERSECTED&&!T.getters.getShowDialog){const e=document.querySelector("audio");e&&e.paused&&e.play(),T.dispatch("setShowDialog",!0),this.secret.speak(this.INTERSECTED.material.uuid)}}}new v;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m["b"](t,e),Object.defineProperty(t.prototype,"showDialog",{get:function(){return this.$store.getters.getShowDialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secret",{get:function(){return this.$store.getters.getSecret},enumerable:!0,configurable:!0}),t.prototype.playAudio=function(){var e=document.querySelector("audio");e&&e.play()},t.prototype.empty=function(){var e=document.querySelector("audio");e&&e.play()},t.prototype.closeDialog=function(){this.$store.dispatch("setShowDialog",!1),clearInterval(this.$store.getters.getTimer)},t=m["a"]([p["a"]],t),t}(p["b"]),y=b,C=y,S=(i("9df3"),Object(o["a"])(C,E,f,!1,null,"19faf63c",null)),D=S.exports,M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m["b"](t,e),t=m["a"]([Object(p["a"])({components:{Proposal:D}})],t),t}(p["b"]),H=M,R=H,x=Object(o["a"])(R,u,d,!1,null,null,null),k=x.exports;n["a"].use(h["a"]);var z=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:k},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}]});n["a"].config.productionTip=!1,new n["a"]({router:z,store:T,render:function(e){return e(l)}}).$mount("#app")},e415:function(e,t,i){}});
//# sourceMappingURL=app.2e57c554.js.map