import store from '../store'

export default class Secret {
    constructor() {
        this.loveTougne = ""
        this.secrets = [
            'ä½ ä¸å–œæ¬¢çŒ«çŒ«ç‹—ç‹—,æˆ‘å¾ˆå–œæ¬¢,ä½ ç»å¸¸è¯´,è·Ÿä½ åœ¨ä¸€èµ·ä»¥å,æˆ‘è¿™è¾ˆå­éƒ½ä¸ä¼šæœ‰è‡ªå·±çš„å® ç‰©äº†,ä½†æ˜¯æˆ‘ä¸åæ‚”,å› ä¸º..........æœ‰ä½ å°±å¤Ÿå•¦ğŸ’—',
            'æœ€å–œæ¬¢ä½ çš„ä¸€ç‚¹,ä¸ç®¡åµæ¶,ä¸å¼€å¿ƒ,é—¹çŸ›ç›¾,ä»æ¥ä¸ä¼šå¤±è”,å†ç”Ÿæ°”ä¹Ÿä¼šä¸»åŠ¨è”ç³»æˆ‘,è°¢è°¢é‚£ä¹ˆä¹…ä»¥æ¥çš„åŒ…å®¹ğŸ˜Š',
            'éƒ½è¯´ç¨‹åºçŒ¿ä¸æ‡‚æµªæ¼«,æˆ‘æƒ³,æˆ–è®¸è¿™å°±æ˜¯ç¨‹åºçŒ¿çš„æµªæ¼«å§...ğŸŒ¸',
            'æ˜æ˜ä¸æ“…é•¿ç®—æœ¯,è¿˜è¦åšæŒåšç®—æœ¯ç›¸å…³çš„å·¥ä½œ,å¦‚æœè¯´è¿™ä¸ªé¡¹ç›®æ˜¯ç¨‹åºçŒ¿æœ€åçš„å€”å¼ºï¼Œé‚£ä½ çš„èŒä¸šé€‰æ‹©ä¼°è®¡ä¹Ÿæ˜¯ä½ æœ€åçš„å€”å¼ºäº†å§,ä¸ç®¡æ˜¯å¥½æ˜¯å,åŠªåŠ›è¿‡å°±å¥½å•¦,åŠ æ²¹å§,çš®ä¸˜ğŸ‰',
            `æˆ‘ä»¬å·²ç»ç›¸çˆ±${this.getKnowTime()}å¤©å•¦!è¦ä¸€ç›´å¹¸ç¦ä¸‹å»å™¢ğŸ’—`,
            this.getMarryTime() > 0 ? `è¿˜æœ‰${this.getMarryTime()}å¤©,æˆ‘ä»¬å°±è¦ç»“å©šå•¦!è¦è®©æ‰€æœ‰äººè§è¯æˆ‘ä»¬çš„å¹¸ç¦å‘€ğŸ’—` : `æˆ‘ä»¬å·²ç»ç»“å©šå•¦!è¦ä¸€ç›´å¹¸ç¦ä¸‹å»,ç›´åˆ°æ°¸è¿œå™¢ğŸŒ¸`,
            'è™½ç„¶æˆ‘å¾ˆæ€‚,ä¸€ç›´éƒ½æ€‚.....æœ€å¤§èƒ†çš„ä¸€æ¬¡,å°±æ˜¯æƒ³è®©å…¨ä¸–ç•Œéƒ½çœ‹åˆ°æˆ‘å¯¹ä½ çš„å‘Šç™½ğŸ',
            'ä½ æœ€å–œæ¬¢çš„æ•°å­—æ˜¯369,å‘ä¸ªåŠ¨æ€éƒ½è¦ç­‰åˆ†é’ˆæŒ‡å‘369æ‰å‘,æœ‰çš„æ—¶å€™è§‰å¾—å¾ˆå‚»,æœ‰æ—¶å€™åˆè§‰å¾—ç‰¹åˆ«å¯çˆ±ğŸ„',
            'ç¬¬ä¸€æ¬¡å»è¿ªå£«å°¼çš„æ—¶å€™,ä½ æˆ´ç€ä»™å¥³å‘ç®,æˆ‘ä»¬æ‹äº†å¾ˆå¤šå¾ˆå¤šç…§ç‰‡,å½“æ—¶æˆ‘åœ¨æƒ³,å¦‚æœè¿™å°±æ˜¯æ˜¯ç°å®ä¸­çš„åŸå ¡,é‚£ä½ ä¸€å®šå°±æ˜¯æˆ‘çš„å…¬ä¸»äº†å§ğŸ‘°',
            'æ¯æ¬¡æœ‰å¥½åƒçš„éƒ½ä¼šç¬¬ä¸€æ—¶é—´æƒ³åˆ°æˆ‘,ç”¨ä½ çš„è¯è¯´å°±æ˜¯,å°±ç®—æ˜¯ç‹—å±ä¹Ÿä¼šå¸¦ç»™æˆ‘ä¸€èµ·åˆ†äº«ğŸ˜­',
            'åƒä¸œè¥¿æ¯æ¬¡éƒ½è¦å…ˆæ‹ç…§,å–œæ¬¢è´µçš„,åˆå–œæ¬¢å¥½çœ‹çš„,å¯¹é£Ÿç‰©çš„è¿½æ±‚æ°¸è¿œåœç•™åœ¨è¡¨é¢,æœ€åååé€‰äº†æˆ‘è¿™ä¸ªåˆæ²¡é’±åˆæ²¡é¢œå€¼çš„,è¿˜è¯´ä»ä¸åæ‚”...ğŸ˜†',
            'åæ¥æˆ‘æ‰å‘ç°,åšè¿™ä¸ªä¸œè¥¿æœ€éš¾çš„åœ°æ–¹ä¸æ˜¯å†™ä»£ç ,è€Œæ˜¯....ç©¶ç«Ÿè¦æ€ä¹ˆæ ·æ‰èƒ½æƒ³å‡ºé‚£ä¹ˆå¤šåœŸå‘³æƒ…è¯...ğŸ˜†',
            'ç¬¬ä¸€æ¬¡è§æˆ‘å¦ˆå¦ˆçš„æ—¶å€™,ä½ ç©¿ç€åˆšä¹°çš„ä¸åˆè„šçš„é«˜è·Ÿé‹,èº²åœ¨æˆ‘èº«åå¾ˆæ€‚çš„æ ·å­çœŸçš„å¤ªå¯çˆ±äº†...ğŸ˜Š',
            'è®°å¾—æˆ‘ä»¬å»æ‰¬å·çš„æ—¶å€™æ˜æ˜å¤©æ°”å¾ˆå†·,ä½ ç©¿äº†ä¸ªé•¿è£™å†»å¾—ç‘Ÿç‘Ÿå‘æŠ–,é—®ä½ å†·ä¸å†·è¿˜è¯´....ä¸å†·,é‚£æ¬¡æˆ‘ä»¬åƒäº†å¥½å¤šå¥½åƒçš„,è¿˜æ”¾äº†é£ç­ğŸŒ¸',
            'ç¬¬ä¸€æ¬¡å»çˆ¬å±±,å®Œå…¨æ²¡æœ‰è¿åŠ¨èƒ½åŠ›çš„æˆ‘èµ°ä¸¤æ­¥å°±è¦ä¼‘æ¯ä¸€ä¸‹...ä¼°è®¡ä½ å½“æ—¶è‚¯å®šè´¼å«Œå¼ƒäº†,ç»“æœä¸‹å±±çš„æ—¶å€™,è¢«è·¯äººè¾…åŠ©ç¬¬ä¸€æ¬¡ç‰µäº†ä½ çš„æ‰‹,ç„¶åä¸€ç‰µå°±ç‰µåˆ°äº†ç°åœ¨..',
            'è‡ªä»è®¤è¯†ä½ ä¹‹å,å¥½åƒå°±æ²¡æ€ä¹ˆæ‰“è¿‡æ¸¸æˆ(é™¤äº†ä½ é€æˆ‘çš„ä»»å¤©å ‚ğŸ˜Š),åˆšå¼€å§‹æ˜¯å‡è£…ä¸Šè¿›,ä¹…è€Œä¹…ä¹‹å¥½åƒå°±æˆäº†ä¹ æƒ¯...ä¹Ÿæ²¡é‚£ä¹ˆå–œæ¬¢æ‰“æ¸¸æˆäº†',
            `è‡ªä»100å¤©ä¹‹å,æˆ‘ä»¬å¥½åƒå¾ˆä¹…æ²¡æ­£å„¿å…«ç»è¿‡è¿‡ä»€ä¹ˆçºªå¿µæ—¥äº†,æ—¶é—´ä¹Ÿå˜å¾—æ›´å¿«äº†,ä¸€è½¬çœ¼æˆ‘ä»¬å°±åœ¨ä¸€èµ·${this.getKnowTime()}å¤©å•¦,æˆ‘ä¸æ˜¯ä»€ä¹ˆä»ªå¼æ„Ÿç‰¹åˆ«å¼ºçš„ç”·ç”Ÿ,ç”šè‡³æœ‰ç‚¹ç›´ç”·,è°¢è°¢ä½ å¯¹æˆ‘çš„åŒ…å®¹,è®©æˆ‘ä»¬æœ‰äº†æ›´å¤šç¾å¥½çš„å›å¿†ğŸŒ¸`,
            this.getPaperTime() > 0 ? `æˆ‘ä»¬è«åå…¶å¦™çº¦å®šäº†9.6å»é¢†è¯,å“ˆå“ˆå“ˆ,æ„Ÿè§‰ä¸é”™,è¿˜æœ‰${this.getPaperTime()}å¤©æˆ‘ä»¬å°±åˆæ³•å•¦!ğŸŒˆ` : `æˆ‘ä»¬è«åå…¶å¦™çº¦å®šäº†9.6å»é¢†è¯,å“ˆå“ˆå“ˆ,æ„Ÿè§‰ä¸é”™,ç°åœ¨æˆ‘ä»¬å·²ç»åˆæ³•å•¦!ğŸŒˆ`,
            `â€œä½ å˜å¾—è¶Šæ¥è¶Šä¸åƒä½ äº†â€
            ------â€œåƒæˆ‘è€å…¬â€ è¿™æ˜¯ä½ å¯¹æˆ‘è¯´çš„ç¬¬ä¸€å¥æƒ…è¯ğŸ˜†`,
            `å¬åˆ°æˆ‘ç”Ÿç—…é©¬ä¸Šè¦åšæ‰‹æœ¯çš„æ—¶å€™,äºŒè¯ä¸è¯´å°±è¯·å‡æ¥ä¸Šæµ·çœ‹æˆ‘,ç»“æœè¿˜ä¹°ä¸åˆ°è½¦ç¥¨ä¹°äº†è´¼è´µçš„å•†åŠ¡åº§...ğŸ˜†è¿˜å¥½æœ€ååº·å¤äº†,ä¸ç„¶çœŸçš„å¤ªå¯¹ä¸èµ·ä½ å•¦`,
            `çœŸæ€€å¿µäºŒåå››å°æ—¶åœŸè±†å•ŠğŸ˜`,
            `åœ¨å—äº¬çš„æ·±å¤œé£Ÿå ‚åƒåˆ°äº†äººç”Ÿä¸­æœ€å¥½åƒçš„å¯¿å–œé”…ğŸ£`,
            `ç¬¬ä¸€æ¬¡è§åˆ°ä½ å“­æ˜¯åœ¨æ–°åŒºçš„èƒ¡æ¡ƒé‡Œ,å½“æ—¶å°±å‘èª“ä»¥åä¸€å®šè¦ä¿æŠ¤å¥½çœ¼å‰çš„è¿™ä¸ªå§‘å¨˜,å°è±¡æ·±åˆ»å½“æ—¶èƒŒæ™¯éŸ³ä¹æ˜¯lala landçš„ä¸»é¢˜æ›²,å¸Œæœ›æˆ‘ä»¬çš„æ¢¦æƒ³ä¹Ÿèƒ½æœ€ç»ˆå®ç°`,
            `ç¬¬ä¸€æ¬¡é™ªä½ å»ä¹°Victoria's Secret,å®³ç¾çš„æˆ‘å®Œå…¨ä¸æ•¢è¿›å»å•Š,åœ¨æ˜Ÿå·´å…‹ç­‰äº†åŠå¤©>.<,æœ€åè¿˜æ˜¯è¿›å»äº†ğŸ˜†`,

        ]
        this.badMemory = [
            `æˆ‘ä»¬ç¬¬ä¸€æ¬¡å»åƒçš„é‚£å®¶è›‹ç³•åº—,è€æ¿å¾ˆniceçš„å¤šé€äº†å¥½å¤šå¥½åƒçš„,æ—¶é—´è¿‡å¾—å¥½å¿«,å¥½æƒ³å†å›å»é‚£å®¶åº—åƒä¸€æ¬¡,å¯æƒœå·²ç»å…³é—¨å•¦ğŸ˜­$$cake.jpg`,
            `é™ªä½ åº¦è¿‡äº†ç¬¬ä¸€ä¸ªæ–°å¹´,æœªæ¥è¿˜ä¼šæœ‰å¥½å¤šå¥½å¤šä¸ªå§ğŸŒ¸$$newYear.jpg`
        ]
        this.blue = [
            'è¿˜è®°å¾—é‚£æ¬¡åœ¨åœè½¦åœºå“­,ä»¥åä¸æƒ³å†å‘ç”Ÿäº†ğŸ˜ª',
            'å»éŸ©å›½çš„æ—¶å€™,æ˜æ˜è¯´è¦å¸¦æˆ‘å»ç‰›å²›ç©,ç»“æœ.......è¿˜æ˜¯åœ¨å±¡æ¬¡ä¸å¼€å¿ƒä¹‹ååœ¨æˆ‘çš„å¸¦é¢†ä¸‹æ¥åˆ°äº†ç‰›å²›ğŸ‚',
            `å¸®ä½ ä¹°äº†å¾ˆå¤šæ²¡æœ‰åµç”¨çš„ä¸œè¥¿>.<,ä½ ä¹Ÿå¸®æˆ‘ä¹°äº†å¾ˆå¤šæ²¡æœ‰åµç”¨çš„ä¸œè¥¿,è¦æ˜¯æˆ‘ä»¬èƒ½èŠ‚ä¿­ä¸€ç‚¹,è¯´ä¸å®šç°åœ¨å¯ä»¥å¯Œè£•ä¸€ç‚¹å•¦ğŸ˜†`,
            'è¿˜è®°å¾—åˆšå¼€å§‹çš„æ—¶å€™å¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥åœ¨è‹å·é™ªç€ä½ ,åº¦è¿‡äº†æˆ‘ä»¬äººç”Ÿä¸­å¾ˆå¿«ä¹çš„ä¸€æ®µæ—¶é—´,å¥½æ™¯ä¸é•¿,å¾ˆå¿«å°±å¼‚åœ°äº†,åˆ†å¼€çš„æ—¶å€™å¶å°”ä¼šæƒ³å¿µå¯¹æ–¹,ä½†æ›´å¤šçš„æ˜¯å¯¹æœªæ¥ç¾å¥½çš„æœŸå¾…..ğŸ¦',
            'çœŸçš„å¾ˆå¯¹ä¸èµ·ä½ ,è®©ä½ ä¸ºäº†æˆ‘ä¸€æ¬¡åˆä¸€æ¬¡å’Œå®¶äººçŸ›ç›¾ğŸ˜ª',
            'ä¸€ç›´éƒ½æƒ³ä¸é€šä¸¤ä¸ªå®¡ç¾,å…´è¶£,è¿½æ±‚éƒ½å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªäºº,ç©¶ç«Ÿæ€ä¹ˆå°±è¿™æ ·èµ°åˆ°äº†æœ€å...ğŸ˜',
            'å…¶å®æœ‰æ—¶å€™æˆ‘ä¹Ÿä¼šè§‰å¾—æˆ‘ä»¬ç°åœ¨è¿™æ ·ä¸é”™,å‘¨æœ«è§é¢,å½¼æ­¤æœ‰æ›´å¤šçš„ç²¾åŠ›è¶ç€å¹´è½»çš„æ—¶å€™åŠªåŠ›å¥‹æ–—ğŸ’ª',
        ]
    }

    bind(object, func) {
        return function () {
            return func.apply(object, arguments);
        }
    }

    speak(id, i = 0) {
        let str = '';
        if (id === 0) {
            str = `æ‰€ä»¥..............................ä½ æ„¿æ„å«ç»™æˆ‘å—ï¼ŸğŸ‘°                 æˆ‘ä¸ç®¡,æˆ‘å…ˆè¯´å•¦                ---------  â€œyes ,I doğŸŒ¸â€`
        }
        else if (id > 0 && id <= 10) {
            str = this.badMemory[id % this.badMemory.length];
        }
        else if (id > 10 && id <= 20) {
            str = this.blue[id % this.blue.length];
        }
        else {
            str = this.secrets[id % this.secrets.length];
        }
        var img;
        [str, img] = str.split('$$');
        if (i <= str.length) {
            store.dispatch('setSecret', str.slice(0, i++) + '_')
            const timer = setTimeout(this.bind(this, this.speak), Math.random() * 400, id, i)
            store.dispatch('setTimer', timer)
        } else {
            if (img) {
                store.dispatch('setImg', require(`@/assets/${img}`))
            }
            store.dispatch('setSecret', str)
        }
    }

    getKnowTime() {
        var start = new Date(2018, 1, 26);
        var end = new Date();
        var delta = end.getTime() - start.getTime();
        return Math.floor(delta / (24 * 3600 * 1000)) + 30
    }

    getMarryTime() {
        var marry = new Date(2019, 11, 24);
        var start = new Date();
        var delta = marry.getTime() - start.getTime();
        return Math.ceil(delta / (24 * 3600 * 1000)) - 30
    }

    getPaperTime() {
        var paper = new Date(2019, 9, 6);
        var start = new Date();
        var delta = paper.getTime() - start.getTime();
        return Math.ceil(delta / (24 * 3600 * 1000)) - 30
    }
}
